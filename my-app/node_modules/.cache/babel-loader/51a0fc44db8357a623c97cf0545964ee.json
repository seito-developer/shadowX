{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nexports.getStorage = getStorage;\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n/* global window, localStorage */\n\n\nvar hasStorage = false;\n\ntry {\n  hasStorage = \"localStorage\" in window; // Attempt to store and read entries from the local storage to detect Private\n  // Mode on Safari on iOS (see #49)\n\n  var key = \"tusSupport\";\n  localStorage.setItem(key, localStorage.getItem(key));\n} catch (e) {\n  // If we try to access localStorage inside a sandboxed iframe, a SecurityError\n  // is thrown. When in private mode on iOS Safari, a QuotaExceededError is\n  // thrown (see #49)\n  if (e.code === e.SECURITY_ERR || e.code === e.QUOTA_EXCEEDED_ERR) {\n    hasStorage = false;\n  } else {\n    throw e;\n  }\n}\n\nvar canStoreURLs = exports.canStoreURLs = hasStorage;\n\nvar LocalStorage = function () {\n  function LocalStorage() {\n    _classCallCheck(this, LocalStorage);\n  }\n\n  _createClass(LocalStorage, [{\n    key: \"setItem\",\n    value: function setItem(key, value, cb) {\n      cb(null, localStorage.setItem(key, value));\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem(key, cb) {\n      cb(null, localStorage.getItem(key));\n    }\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(key, cb) {\n      cb(null, localStorage.removeItem(key));\n    }\n  }]);\n\n  return LocalStorage;\n}();\n\nfunction getStorage() {\n  return hasStorage ? new LocalStorage() : null;\n}","map":{"version":3,"sources":["/Users/seito/Documents/develop/shadowX/node_modules/tus-js-client/lib.es5/browser/storage.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","getStorage","_classCallCheck","instance","TypeError","hasStorage","window","localStorage","setItem","getItem","e","code","SECURITY_ERR","QUOTA_EXCEEDED_ERR","canStoreURLs","LocalStorage","cb","removeItem"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.getStorage = getStorage;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* global window, localStorage */\n\nvar hasStorage = false;\ntry {\n  hasStorage = \"localStorage\" in window;\n\n  // Attempt to store and read entries from the local storage to detect Private\n  // Mode on Safari on iOS (see #49)\n  var key = \"tusSupport\";\n  localStorage.setItem(key, localStorage.getItem(key));\n} catch (e) {\n  // If we try to access localStorage inside a sandboxed iframe, a SecurityError\n  // is thrown. When in private mode on iOS Safari, a QuotaExceededError is\n  // thrown (see #49)\n  if (e.code === e.SECURITY_ERR || e.code === e.QUOTA_EXCEEDED_ERR) {\n    hasStorage = false;\n  } else {\n    throw e;\n  }\n}\n\nvar canStoreURLs = exports.canStoreURLs = hasStorage;\n\nvar LocalStorage = function () {\n  function LocalStorage() {\n    _classCallCheck(this, LocalStorage);\n  }\n\n  _createClass(LocalStorage, [{\n    key: \"setItem\",\n    value: function setItem(key, value, cb) {\n      cb(null, localStorage.setItem(key, value));\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem(key, cb) {\n      cb(null, localStorage.getItem(key));\n    }\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(key, cb) {\n      cb(null, localStorage.removeItem(key));\n    }\n  }]);\n\n  return LocalStorage;\n}();\n\nfunction getStorage() {\n  return hasStorage ? new LocalStorage() : null;\n}"]},"metadata":{},"sourceType":"script"}