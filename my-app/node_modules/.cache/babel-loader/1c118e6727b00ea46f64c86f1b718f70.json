{"ast":null,"code":"/*\n\ndidYouMean.js - A simple JavaScript matching engine\n===================================================\n\n[Available on GitHub](https://github.com/dcporter/didyoumean.js).\n\nA super-simple, highly optimized JS library for matching human-quality input to a list of potential\nmatches. You can use it to suggest a misspelled command-line utility option to a user, or to offer\nlinks to nearby valid URLs on your 404 page. (The examples below are taken from a personal project,\nmy [HTML5 business card](http://dcporter.aws.af.cm/me), which uses didYouMean.js to suggest correct\nURLs from misspelled ones, such as [dcporter.aws.af.cm/me/instagarm](http://dcporter.aws.af.cm/me/instagarm).)\nUses the [Levenshtein distance algorithm](https://en.wikipedia.org/wiki/Levenshtein_distance).\n\ndidYouMean.js works in the browser as well as in node.js. To install it for use in node:\n\n```\nnpm install didyoumean\n```\n\n\nExamples\n--------\n\nMatching against a list of strings:\n```\nvar input = 'insargrm'\nvar list = ['facebook', 'twitter', 'instagram', 'linkedin'];\nconsole.log(didYouMean(input, list));\n> 'instagram'\n// The method matches 'insargrm' to 'instagram'.\n\ninput = 'google plus';\nconsole.log(didYouMean(input, list));\n> null\n// The method was unable to find 'google plus' in the list of options.\n```\n\nMatching against a list of objects:\n```\nvar input = 'insargrm';\nvar list = [ { id: 'facebook' }, { id: 'twitter' }, { id: 'instagram' }, { id: 'linkedin' } ];\nvar key = 'id';\nconsole.log(didYouMean(input, list, key));\n> 'instagram'\n// The method returns the matching value.\n\ndidYouMean.returnWinningObject = true;\nconsole.log(didYouMean(input, list, key));\n> { id: 'instagram' }\n// The method returns the matching object.\n```\n\n\ndidYouMean(str, list, [key])\n----------------------------\n\n- str: The string input to match.\n- list: An array of strings or objects to match against.\n- key (OPTIONAL): If your list array contains objects, you must specify the key which contains the string\n  to match against.\n\nReturns: the closest matching string, or null if no strings exceed the threshold.\n\n\nOptions\n-------\n\nOptions are set on the didYouMean function object. You may change them at any time.\n\n### threshold\n\n  By default, the method will only return strings whose edit distance is less than 40% (0.4x) of their length.\n  For example, if a ten-letter string is five edits away from its nearest match, the method will return null.\n\n  You can control this by setting the \"threshold\" value on the didYouMean function. For example, to set the\n  edit distance threshold to 50% of the input string's length:\n\n  ```\n  didYouMean.threshold = 0.5;\n  ```\n\n  To return the nearest match no matter the threshold, set this value to null.\n\n### thresholdAbsolute\n\n  This option behaves the same as threshold, but instead takes an integer number of edit steps. For example,\n  if thresholdAbsolute is set to 20 (the default), then the method will only return strings whose edit distance\n  is less than 20. Both options apply.\n\n### caseSensitive\n\n  By default, the method will perform case-insensitive comparisons. If you wish to force case sensitivity, set\n  the \"caseSensitive\" value to true:\n\n  ```\n  didYouMean.caseSensitive = true;\n  ```\n\n### nullResultValue\n\n  By default, the method will return null if there is no sufficiently close match. You can change this value here.\n\n### returnWinningObject\n\n  By default, the method will return the winning string value (if any). If your list contains objects rather\n  than strings, you may set returnWinningObject to true.\n  \n  ```\n  didYouMean.returnWinningObject = true;\n  ```\n  \n  This option has no effect on lists of strings.\n\n### returnFirstMatch\n  \n  By default, the method will search all values and return the closest match. If you're simply looking for a \"good-\n  enough\" match, you can set your thresholds appropriately and set returnFirstMatch to true to substantially speed\n  things up.\n\n\nLicense\n-------\n\ndidYouMean copyright (c) 2013-2014 Dave Porter.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License\n[here](http://www.apache.org/licenses/LICENSE-2.0).\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n(function () {\n  \"use strict\"; // The didYouMean method.\n\n  function didYouMean(str, list, key) {\n    if (!str) return null; // If we're running a case-insensitive search, smallify str.\n\n    if (!didYouMean.caseSensitive) {\n      str = str.toLowerCase();\n    } // Calculate the initial value (the threshold) if present.\n\n\n    var thresholdRelative = didYouMean.threshold === null ? null : didYouMean.threshold * str.length,\n        thresholdAbsolute = didYouMean.thresholdAbsolute,\n        winningVal;\n    if (thresholdRelative !== null && thresholdAbsolute !== null) winningVal = Math.min(thresholdRelative, thresholdAbsolute);else if (thresholdRelative !== null) winningVal = thresholdRelative;else if (thresholdAbsolute !== null) winningVal = thresholdAbsolute;else winningVal = null; // Get the edit distance to each option. If the closest one is less than 40% (by default) of str's length,\n    // then return it.\n\n    var winner,\n        candidate,\n        testCandidate,\n        val,\n        i,\n        len = list.length;\n\n    for (i = 0; i < len; i++) {\n      // Get item.\n      candidate = list[i]; // If there's a key, get the candidate value out of the object.\n\n      if (key) {\n        candidate = candidate[key];\n      } // Gatekeep.\n\n\n      if (!candidate) {\n        continue;\n      } // If we're running a case-insensitive search, smallify the candidate.\n\n\n      if (!didYouMean.caseSensitive) {\n        testCandidate = candidate.toLowerCase();\n      } else {\n        testCandidate = candidate;\n      } // Get and compare edit distance.\n\n\n      val = getEditDistance(str, testCandidate, winningVal); // If this value is smaller than our current winning value, OR if we have no winning val yet (i.e. the\n      // threshold option is set to null, meaning the caller wants a match back no matter how bad it is), then\n      // this is our new winner.\n\n      if (winningVal === null || val < winningVal) {\n        winningVal = val; // Set the winner to either the value or its object, depending on the returnWinningObject option.\n\n        if (key && didYouMean.returnWinningObject) winner = list[i];else winner = candidate; // If we're returning the first match, return it now.\n\n        if (didYouMean.returnFirstMatch) return winner;\n      }\n    } // If we have a winner, return it.\n\n\n    return winner || didYouMean.nullResultValue;\n  } // Set default options.\n\n\n  didYouMean.threshold = 0.4;\n  didYouMean.thresholdAbsolute = 20;\n  didYouMean.caseSensitive = false;\n  didYouMean.nullResultValue = null;\n  didYouMean.returnWinningObject = null;\n  didYouMean.returnFirstMatch = false; // Expose.\n  // In node...\n\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = didYouMean;\n  } // Otherwise...\n  else {\n      window.didYouMean = didYouMean;\n    }\n\n  var MAX_INT = Math.pow(2, 32) - 1; // We could probably go higher than this, but for practical reasons let's not.\n\n  function getEditDistance(a, b, max) {\n    // Handle null or undefined max.\n    max = max || max === 0 ? max : MAX_INT;\n    var lena = a.length;\n    var lenb = b.length; // Fast path - no A or B.\n\n    if (lena === 0) return Math.min(max + 1, lenb);\n    if (lenb === 0) return Math.min(max + 1, lena); // Fast path - length diff larger than max.\n\n    if (Math.abs(lena - lenb) > max) return max + 1; // Slow path.\n\n    var matrix = [],\n        i,\n        j,\n        colMin,\n        minJ,\n        maxJ; // Set up the first row ([0, 1, 2, 3, etc]).\n\n    for (i = 0; i <= lenb; i++) {\n      matrix[i] = [i];\n    } // Set up the first column (same).\n\n\n    for (j = 0; j <= lena; j++) {\n      matrix[0][j] = j;\n    } // Loop over the rest of the columns.\n\n\n    for (i = 1; i <= lenb; i++) {\n      colMin = MAX_INT;\n      minJ = 1;\n      if (i > max) minJ = i - max;\n      maxJ = lenb + 1;\n      if (maxJ > max + i) maxJ = max + i; // Loop over the rest of the rows.\n\n      for (j = 1; j <= lena; j++) {\n        // If j is out of bounds, just put a large value in the slot.\n        if (j < minJ || j > maxJ) {\n          matrix[i][j] = max + 1;\n        } // Otherwise do the normal Levenshtein thing.\n        else {\n            // If the characters are the same, there's no change in edit distance.\n            if (b.charAt(i - 1) === a.charAt(j - 1)) {\n              matrix[i][j] = matrix[i - 1][j - 1];\n            } // Otherwise, see if we're substituting, inserting or deleting.\n            else {\n                matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, // Substitute\n                Math.min(matrix[i][j - 1] + 1, // Insert\n                matrix[i - 1][j] + 1)); // Delete\n              }\n          } // Either way, update colMin.\n\n\n        if (matrix[i][j] < colMin) colMin = matrix[i][j];\n      } // If this column's minimum is greater than the allowed maximum, there's no point\n      // in going on with life.\n\n\n      if (colMin > max) return max + 1;\n    } // If we made it this far without running into the max, then return the final matrix value.\n\n\n    return matrix[lenb][lena];\n  }\n})();","map":{"version":3,"sources":["/Users/seito/Documents/develop/count-jp/my-app/node_modules/didyoumean/didYouMean-1.2.1.js"],"names":["didYouMean","str","list","key","caseSensitive","toLowerCase","thresholdRelative","threshold","length","thresholdAbsolute","winningVal","Math","min","winner","candidate","testCandidate","val","i","len","getEditDistance","returnWinningObject","returnFirstMatch","nullResultValue","module","exports","window","MAX_INT","pow","a","b","max","lena","lenb","abs","matrix","j","colMin","minJ","maxJ","charAt"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,YAAW;AACV,eADU,CAGV;;AACA,WAASA,UAAT,CAAoBC,GAApB,EAAyBC,IAAzB,EAA+BC,GAA/B,EAAoC;AAClC,QAAI,CAACF,GAAL,EAAU,OAAO,IAAP,CADwB,CAGlC;;AACA,QAAI,CAACD,UAAU,CAACI,aAAhB,EAA+B;AAAEH,MAAAA,GAAG,GAAGA,GAAG,CAACI,WAAJ,EAAN;AAA0B,KAJzB,CAMlC;;;AACA,QAAIC,iBAAiB,GAAGN,UAAU,CAACO,SAAX,KAAyB,IAAzB,GAAgC,IAAhC,GAAuCP,UAAU,CAACO,SAAX,GAAuBN,GAAG,CAACO,MAA1F;AAAA,QACIC,iBAAiB,GAAGT,UAAU,CAACS,iBADnC;AAAA,QAEIC,UAFJ;AAGA,QAAIJ,iBAAiB,KAAK,IAAtB,IAA8BG,iBAAiB,KAAK,IAAxD,EAA8DC,UAAU,GAAGC,IAAI,CAACC,GAAL,CAASN,iB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","sourcesContent":["/*\n\ndidYouMean.js - A simple JavaScript matching engine\n===================================================\n\n[Available on GitHub](https://github.com/dcporter/didyoumean.js).\n\nA super-simple, highly optimized JS library for matching human-quality input to a list of potential\nmatches. You can use it to suggest a misspelled command-line utility option to a user, or to offer\nlinks to nearby valid URLs on your 404 page. (The examples below are taken from a personal project,\nmy [HTML5 business card](http://dcporter.aws.af.cm/me), which uses didYouMean.js to suggest correct\nURLs from misspelled ones, such as [dcporter.aws.af.cm/me/instagarm](http://dcporter.aws.af.cm/me/instagarm).)\nUses the [Levenshtein distance algorithm](https://en.wikipedia.org/wiki/Levenshtein_distance).\n\ndidYouMean.js works in the browser as well as in node.js. To install it for use in node:\n\n```\nnpm install didyoumean\n```\n\n\nExamples\n--------\n\nMatching against a list of strings:\n```\nvar input = 'insargrm'\nvar list = ['facebook', 'twitter', 'instagram', 'linkedin'];\nconsole.log(didYouMean(input, list));\n> 'instagram'\n// The method matches 'insargrm' to 'instagram'.\n\ninput = 'google plus';\nconsole.log(didYouMean(input, list));\n> null\n// The method was unable to find 'google plus' in the list of options.\n```\n\nMatching against a list of objects:\n```\nvar input = 'insargrm';\nvar list = [ { id: 'facebook' }, { id: 'twitter' }, { id: 'instagram' }, { id: 'linkedin' } ];\nvar key = 'id';\nconsole.log(didYouMean(input, list, key));\n> 'instagram'\n// The method returns the matching value.\n\ndidYouMean.returnWinningObject = true;\nconsole.log(didYouMean(input, list, key));\n> { id: 'instagram' }\n// The method returns the matching object.\n```\n\n\ndidYouMean(str, list, [key])\n----------------------------\n\n- str: The string input to match.\n- list: An array of strings or objects to match against.\n- key (OPTIONAL): If your list array contains objects, you must specify the key which contains the string\n  to match against.\n\nReturns: the closest matching string, or null if no strings exceed the threshold.\n\n\nOptions\n-------\n\nOptions are set on the didYouMean function object. You may change them at any time.\n\n### threshold\n\n  By default, the method will only return strings whose edit distance is less than 40% (0.4x) of their length.\n  For example, if a ten-letter string is five edits away from its nearest match, the method will return null.\n\n  You can control this by setting the \"threshold\" value on the didYouMean function. For example, to set the\n  edit distance threshold to 50% of the input string's length:\n\n  ```\n  didYouMean.threshold = 0.5;\n  ```\n\n  To return the nearest match no matter the threshold, set this value to null.\n\n### thresholdAbsolute\n\n  This option behaves the same as threshold, but instead takes an integer number of edit steps. For example,\n  if thresholdAbsolute is set to 20 (the default), then the method will only return strings whose edit distance\n  is less than 20. Both options apply.\n\n### caseSensitive\n\n  By default, the method will perform case-insensitive comparisons. If you wish to force case sensitivity, set\n  the \"caseSensitive\" value to true:\n\n  ```\n  didYouMean.caseSensitive = true;\n  ```\n\n### nullResultValue\n\n  By default, the method will return null if there is no sufficiently close match. You can change this value here.\n\n### returnWinningObject\n\n  By default, the method will return the winning string value (if any). If your list contains objects rather\n  than strings, you may set returnWinningObject to true.\n  \n  ```\n  didYouMean.returnWinningObject = true;\n  ```\n  \n  This option has no effect on lists of strings.\n\n### returnFirstMatch\n  \n  By default, the method will search all values and return the closest match. If you're simply looking for a \"good-\n  enough\" match, you can set your thresholds appropriately and set returnFirstMatch to true to substantially speed\n  things up.\n\n\nLicense\n-------\n\ndidYouMean copyright (c) 2013-2014 Dave Porter.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License\n[here](http://www.apache.org/licenses/LICENSE-2.0).\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n(function() {\n  \"use strict\";\n\n  // The didYouMean method.\n  function didYouMean(str, list, key) {\n    if (!str) return null;\n\n    // If we're running a case-insensitive search, smallify str.\n    if (!didYouMean.caseSensitive) { str = str.toLowerCase(); }\n\n    // Calculate the initial value (the threshold) if present.\n    var thresholdRelative = didYouMean.threshold === null ? null : didYouMean.threshold * str.length,\n        thresholdAbsolute = didYouMean.thresholdAbsolute,\n        winningVal;\n    if (thresholdRelative !== null && thresholdAbsolute !== null) winningVal = Math.min(thresholdRelative, thresholdAbsolute);\n    else if (thresholdRelative !== null) winningVal = thresholdRelative;\n    else if (thresholdAbsolute !== null) winningVal = thresholdAbsolute;\n    else winningVal = null;\n\n    // Get the edit distance to each option. If the closest one is less than 40% (by default) of str's length,\n    // then return it.\n    var winner, candidate, testCandidate, val,\n        i, len = list.length;\n    for (i = 0; i < len; i++) {\n      // Get item.\n      candidate = list[i];\n      // If there's a key, get the candidate value out of the object.\n      if (key) { candidate = candidate[key]; }\n      // Gatekeep.\n      if (!candidate) { continue; }\n      // If we're running a case-insensitive search, smallify the candidate.\n      if (!didYouMean.caseSensitive) { testCandidate = candidate.toLowerCase(); }\n      else { testCandidate = candidate; }\n      // Get and compare edit distance.\n      val = getEditDistance(str, testCandidate, winningVal);\n      // If this value is smaller than our current winning value, OR if we have no winning val yet (i.e. the\n      // threshold option is set to null, meaning the caller wants a match back no matter how bad it is), then\n      // this is our new winner.\n      if (winningVal === null || val < winningVal) {\n        winningVal = val;\n        // Set the winner to either the value or its object, depending on the returnWinningObject option.\n        if (key && didYouMean.returnWinningObject) winner = list[i];\n        else winner = candidate;\n        // If we're returning the first match, return it now.\n        if (didYouMean.returnFirstMatch) return winner;\n      }\n    }\n\n    // If we have a winner, return it.\n    return winner || didYouMean.nullResultValue;\n  }\n\n  // Set default options.\n  didYouMean.threshold = 0.4;\n  didYouMean.thresholdAbsolute = 20;\n  didYouMean.caseSensitive = false;\n  didYouMean.nullResultValue = null;\n  didYouMean.returnWinningObject = null;\n  didYouMean.returnFirstMatch = false;\n\n  // Expose.\n  // In node...\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = didYouMean;\n  }\n  // Otherwise...\n  else {\n    window.didYouMean = didYouMean;\n  }\n\n  var MAX_INT = Math.pow(2,32) - 1; // We could probably go higher than this, but for practical reasons let's not.\n  function getEditDistance(a, b, max) {\n    // Handle null or undefined max.\n    max = max || max === 0 ? max : MAX_INT;\n\n    var lena = a.length;\n    var lenb = b.length;\n\n    // Fast path - no A or B.\n    if (lena === 0) return Math.min(max + 1, lenb);\n    if (lenb === 0) return Math.min(max + 1, lena);\n\n    // Fast path - length diff larger than max.\n    if (Math.abs(lena - lenb) > max) return max + 1;\n\n    // Slow path.\n    var matrix = [],\n        i, j, colMin, minJ, maxJ;\n\n    // Set up the first row ([0, 1, 2, 3, etc]).\n    for (i = 0; i <= lenb; i++) { matrix[i] = [i]; }\n\n    // Set up the first column (same).\n    for (j = 0; j <= lena; j++) { matrix[0][j] = j; }\n\n    // Loop over the rest of the columns.\n    for (i = 1; i <= lenb; i++) {\n      colMin = MAX_INT;\n      minJ = 1;\n      if (i > max) minJ = i - max;\n      maxJ = lenb + 1;\n      if (maxJ > max + i) maxJ = max + i;\n      // Loop over the rest of the rows.\n      for (j = 1; j <= lena; j++) {\n        // If j is out of bounds, just put a large value in the slot.\n        if (j < minJ || j > maxJ) {\n          matrix[i][j] = max + 1;\n        }\n\n        // Otherwise do the normal Levenshtein thing.\n        else {\n          // If the characters are the same, there's no change in edit distance.\n          if (b.charAt(i - 1) === a.charAt(j - 1)) {\n            matrix[i][j] = matrix[i - 1][j - 1];\n          }\n          // Otherwise, see if we're substituting, inserting or deleting.\n          else {\n            matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, // Substitute\n                                    Math.min(matrix[i][j - 1] + 1, // Insert\n                                    matrix[i - 1][j] + 1)); // Delete\n          }\n        }\n\n        // Either way, update colMin.\n        if (matrix[i][j] < colMin) colMin = matrix[i][j];\n      }\n\n      // If this column's minimum is greater than the allowed maximum, there's no point\n      // in going on with life.\n      if (colMin > max) return max + 1;\n    }\n    // If we made it this far without running into the max, then return the final matrix value.\n    return matrix[lenb][lena];\n  }\n\n})();\n"]},"metadata":{},"sourceType":"script"}