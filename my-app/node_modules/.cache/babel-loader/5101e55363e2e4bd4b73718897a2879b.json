{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _postcss = _interopRequireDefault(require(\"postcss\"));\n\nvar _postcssSelectorParser = _interopRequireDefault(require(\"postcss-selector-parser\"));\n\nvar _generateVariantFunction = _interopRequireDefault(require(\"../util/generateVariantFunction\"));\n\nvar _prefixSelector = _interopRequireDefault(require(\"../util/prefixSelector\"));\n\nvar _buildSelectorVariant = _interopRequireDefault(require(\"../util/buildSelectorVariant\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction generatePseudoClassVariant(pseudoClass, selectorPrefix = pseudoClass) {\n  return (0, _generateVariantFunction.default)(({\n    modifySelectors,\n    separator\n  }) => {\n    const parser = (0, _postcssSelectorParser.default)(selectors => {\n      selectors.walkClasses(sel => {\n        sel.value = `${selectorPrefix}${separator}${sel.value}`;\n        sel.parent.insertAfter(sel, _postcssSelectorParser.default.pseudo({\n          value: `:${pseudoClass}`\n        }));\n      });\n    });\n    return modifySelectors(({\n      selector\n    }) => parser.processSync(selector));\n  });\n}\n\nfunction ensureIncludesDefault(variants) {\n  return variants.includes('DEFAULT') ? variants : ['DEFAULT', ...variants];\n}\n\nconst defaultVariantGenerators = config => ({\n  DEFAULT: (0, _generateVariantFunction.default)(() => {}),\n  dark: (0, _generateVariantFunction.default)(({\n    container,\n    separator,\n    modifySelectors\n  }) => {\n    if (config.darkMode === false) {\n      return _postcss.default.root();\n    }\n\n    if (config.darkMode === 'media') {\n      const modified = modifySelectors(({\n        selector\n      }) => {\n        return (0, _buildSelectorVariant.default)(selector, 'dark', separator, message => {\n          throw container.error(message);\n        });\n      });\n\n      const mediaQuery = _postcss.default.atRule({\n        name: 'media',\n        params: '(prefers-color-scheme: dark)'\n      });\n\n      mediaQuery.append(modified);\n      container.append(mediaQuery);\n      return container;\n    }\n\n    if (config.darkMode === 'class') {\n      const modified = modifySelectors(({\n        selector\n      }) => {\n        return (0, _buildSelectorVariant.default)(selector, 'dark', separator, message => {\n          throw container.error(message);\n        });\n      });\n      modified.walkRules(rule => {\n        rule.selectors = rule.selectors.map(selector => {\n          return `${(0, _prefixSelector.default)(config.prefix, '.dark')} ${selector}`;\n        });\n      });\n      return modified;\n    }\n\n    throw new Error(\"The `darkMode` config option must be either 'media' or 'class'.\");\n  }, {\n    unstable_stack: true\n  }),\n  'motion-safe': (0, _generateVariantFunction.default)(({\n    container,\n    separator,\n    modifySelectors\n  }) => {\n    const modified = modifySelectors(({\n      selector\n    }) => {\n      return (0, _buildSelectorVariant.default)(selector, 'motion-safe', separator, message => {\n        throw container.error(message);\n      });\n    });\n\n    const mediaQuery = _postcss.default.atRule({\n      name: 'media',\n      params: '(prefers-reduced-motion: no-preference)'\n    });\n\n    mediaQuery.append(modified);\n    container.append(mediaQuery);\n  }, {\n    unstable_stack: true\n  }),\n  'motion-reduce': (0, _generateVariantFunction.default)(({\n    container,\n    separator,\n    modifySelectors\n  }) => {\n    const modified = modifySelectors(({\n      selector\n    }) => {\n      return (0, _buildSelectorVariant.default)(selector, 'motion-reduce', separator, message => {\n        throw container.error(message);\n      });\n    });\n\n    const mediaQuery = _postcss.default.atRule({\n      name: 'media',\n      params: '(prefers-reduced-motion: reduce)'\n    });\n\n    mediaQuery.append(modified);\n    container.append(mediaQuery);\n  }, {\n    unstable_stack: true\n  }),\n  'group-hover': (0, _generateVariantFunction.default)(({\n    modifySelectors,\n    separator\n  }) => {\n    const parser = (0, _postcssSelectorParser.default)(selectors => {\n      selectors.walkClasses(sel => {\n        sel.value = `group-hover${separator}${sel.value}`;\n        sel.parent.insertBefore(sel, (0, _postcssSelectorParser.default)().astSync((0, _prefixSelector.default)(config.prefix, '.group:hover ')));\n      });\n    });\n    return modifySelectors(({\n      selector\n    }) => parser.processSync(selector));\n  }),\n  'group-focus': (0, _generateVariantFunction.default)(({\n    modifySelectors,\n    separator\n  }) => {\n    const parser = (0, _postcssSelectorParser.default)(selectors => {\n      selectors.walkClasses(sel => {\n        sel.value = `group-focus${separator}${sel.value}`;\n        sel.parent.insertBefore(sel, (0, _postcssSelectorParser.default)().astSync((0, _prefixSelector.default)(config.prefix, '.group:focus ')));\n      });\n    });\n    return modifySelectors(({\n      selector\n    }) => parser.processSync(selector));\n  }),\n  hover: generatePseudoClassVariant('hover'),\n  'focus-within': generatePseudoClassVariant('focus-within'),\n  'focus-visible': generatePseudoClassVariant('focus-visible'),\n  focus: generatePseudoClassVariant('focus'),\n  active: generatePseudoClassVariant('active'),\n  visited: generatePseudoClassVariant('visited'),\n  disabled: generatePseudoClassVariant('disabled'),\n  checked: generatePseudoClassVariant('checked'),\n  first: generatePseudoClassVariant('first-child', 'first'),\n  last: generatePseudoClassVariant('last-child', 'last'),\n  odd: generatePseudoClassVariant('nth-child(odd)', 'odd'),\n  even: generatePseudoClassVariant('nth-child(even)', 'even')\n});\n\nfunction prependStackableVariants(atRule, variants, stackableVariants) {\n  if (!_lodash.default.some(variants, v => stackableVariants.includes(v))) {\n    return variants;\n  }\n\n  if (_lodash.default.every(variants, v => stackableVariants.includes(v))) {\n    return variants;\n  }\n\n  const variantsParent = _postcss.default.atRule({\n    name: 'variants',\n    params: variants.filter(v => stackableVariants.includes(v)).join(', ')\n  });\n\n  atRule.before(variantsParent);\n  variantsParent.append(atRule);\n  variants = _lodash.default.without(variants, ...stackableVariants);\n  return variants;\n}\n\nfunction _default(config, {\n  variantGenerators: pluginVariantGenerators\n}) {\n  return function (css) {\n    const variantGenerators = { ...defaultVariantGenerators(config),\n      ...pluginVariantGenerators\n    };\n    const stackableVariants = Object.entries(variantGenerators).filter(([_variant, {\n      options\n    }]) => options.unstable_stack).map(([variant]) => variant);\n    let variantsFound = false;\n\n    do {\n      variantsFound = false;\n      css.walkAtRules('variants', atRule => {\n        variantsFound = true;\n\n        let variants = _postcss.default.list.comma(atRule.params).filter(variant => variant !== '');\n\n        if (variants.includes('responsive')) {\n          const responsiveParent = _postcss.default.atRule({\n            name: 'responsive'\n          });\n\n          atRule.before(responsiveParent);\n          responsiveParent.append(atRule);\n        }\n\n        const remainingVariants = prependStackableVariants(atRule, variants, stackableVariants);\n\n        _lodash.default.forEach(_lodash.default.without(ensureIncludesDefault(remainingVariants), 'responsive'), variant => {\n          if (!variantGenerators[variant]) {\n            throw new Error(`Your config mentions the \"${variant}\" variant, but \"${variant}\" doesn't appear to be a variant. Did you forget or misconfigure a plugin that supplies that variant?`);\n          }\n\n          variantGenerators[variant].handler(atRule, config);\n        });\n\n        atRule.remove();\n      });\n    } while (variantsFound);\n  };\n}","map":{"version":3,"sources":["/Users/seito/Documents/develop/count-jp/my-app/node_modules/tailwindcss/lib/lib/substituteVariantsAtRules.js"],"names":["Object","defineProperty","exports","value","default","_default","_lodash","_interopRequireDefault","require","_postcss","_postcssSelectorParser","_generateVariantFunction","_prefixSelector","_buildSelectorVariant","obj","__esModule","generatePseudoClassVariant","pseudoClass","selectorPrefix","modifySelectors","separator","parser","selectors","walkClasses","sel","parent","insertAfter","pseudo","selector","processSync","ensureIncludesDefault","variants","includes","defaultVariantGenerators","config","DEFAULT","dark","container","darkMode","root","modified","message","error","mediaQuery","atRule","name","params","append","walkRules","rule","map","prefix","Error","unstable_stack","insertBefore","astSync","hover","focus","active","visited","disabled","checked","first","last","odd","even","prependStackableVariants","stackableVariants","some","v","every","variantsParent","filter","join","before","without","variantGenerators","pluginVariantGenerators","css","entries","_variant","options","variant","variantsFound","walkAtRules","list","comma","responsiveParent","remainingVariants","forEach","handler","remove"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _postcss = _interopRequireDefault(require(\"postcss\"));\n\nvar _postcssSelectorParser = _interopRequireDefault(require(\"postcss-selector-parser\"));\n\nvar _generateVariantFunction = _interopRequireDefault(require(\"../util/generateVariantFunction\"));\n\nvar _prefixSelector = _interopRequireDefault(require(\"../util/prefixSelector\"));\n\nvar _buildSelectorVariant = _interopRequireDefault(require(\"../util/buildSelectorVariant\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction generatePseudoClassVariant(pseudoClass, selectorPrefix = pseudoClass) {\n  return (0, _generateVariantFunction.default)(({\n    modifySelectors,\n    separator\n  }) => {\n    const parser = (0, _postcssSelectorParser.default)(selectors => {\n      selectors.walkClasses(sel => {\n        sel.value = `${selectorPrefix}${separator}${sel.value}`;\n        sel.parent.insertAfter(sel, _postcssSelectorParser.default.pseudo({\n          value: `:${pseudoClass}`\n        }));\n      });\n    });\n    return modifySelectors(({\n      selector\n    }) => parser.processSync(selector));\n  });\n}\n\nfunction ensureIncludesDefault(variants) {\n  return variants.includes('DEFAULT') ? variants : ['DEFAULT', ...variants];\n}\n\nconst defaultVariantGenerators = config => ({\n  DEFAULT: (0, _generateVariantFunction.default)(() => {}),\n  dark: (0, _generateVariantFunction.default)(({\n    container,\n    separator,\n    modifySelectors\n  }) => {\n    if (config.darkMode === false) {\n      return _postcss.default.root();\n    }\n\n    if (config.darkMode === 'media') {\n      const modified = modifySelectors(({\n        selector\n      }) => {\n        return (0, _buildSelectorVariant.default)(selector, 'dark', separator, message => {\n          throw container.error(message);\n        });\n      });\n\n      const mediaQuery = _postcss.default.atRule({\n        name: 'media',\n        params: '(prefers-color-scheme: dark)'\n      });\n\n      mediaQuery.append(modified);\n      container.append(mediaQuery);\n      return container;\n    }\n\n    if (config.darkMode === 'class') {\n      const modified = modifySelectors(({\n        selector\n      }) => {\n        return (0, _buildSelectorVariant.default)(selector, 'dark', separator, message => {\n          throw container.error(message);\n        });\n      });\n      modified.walkRules(rule => {\n        rule.selectors = rule.selectors.map(selector => {\n          return `${(0, _prefixSelector.default)(config.prefix, '.dark')} ${selector}`;\n        });\n      });\n      return modified;\n    }\n\n    throw new Error(\"The `darkMode` config option must be either 'media' or 'class'.\");\n  }, {\n    unstable_stack: true\n  }),\n  'motion-safe': (0, _generateVariantFunction.default)(({\n    container,\n    separator,\n    modifySelectors\n  }) => {\n    const modified = modifySelectors(({\n      selector\n    }) => {\n      return (0, _buildSelectorVariant.default)(selector, 'motion-safe', separator, message => {\n        throw container.error(message);\n      });\n    });\n\n    const mediaQuery = _postcss.default.atRule({\n      name: 'media',\n      params: '(prefers-reduced-motion: no-preference)'\n    });\n\n    mediaQuery.append(modified);\n    container.append(mediaQuery);\n  }, {\n    unstable_stack: true\n  }),\n  'motion-reduce': (0, _generateVariantFunction.default)(({\n    container,\n    separator,\n    modifySelectors\n  }) => {\n    const modified = modifySelectors(({\n      selector\n    }) => {\n      return (0, _buildSelectorVariant.default)(selector, 'motion-reduce', separator, message => {\n        throw container.error(message);\n      });\n    });\n\n    const mediaQuery = _postcss.default.atRule({\n      name: 'media',\n      params: '(prefers-reduced-motion: reduce)'\n    });\n\n    mediaQuery.append(modified);\n    container.append(mediaQuery);\n  }, {\n    unstable_stack: true\n  }),\n  'group-hover': (0, _generateVariantFunction.default)(({\n    modifySelectors,\n    separator\n  }) => {\n    const parser = (0, _postcssSelectorParser.default)(selectors => {\n      selectors.walkClasses(sel => {\n        sel.value = `group-hover${separator}${sel.value}`;\n        sel.parent.insertBefore(sel, (0, _postcssSelectorParser.default)().astSync((0, _prefixSelector.default)(config.prefix, '.group:hover ')));\n      });\n    });\n    return modifySelectors(({\n      selector\n    }) => parser.processSync(selector));\n  }),\n  'group-focus': (0, _generateVariantFunction.default)(({\n    modifySelectors,\n    separator\n  }) => {\n    const parser = (0, _postcssSelectorParser.default)(selectors => {\n      selectors.walkClasses(sel => {\n        sel.value = `group-focus${separator}${sel.value}`;\n        sel.parent.insertBefore(sel, (0, _postcssSelectorParser.default)().astSync((0, _prefixSelector.default)(config.prefix, '.group:focus ')));\n      });\n    });\n    return modifySelectors(({\n      selector\n    }) => parser.processSync(selector));\n  }),\n  hover: generatePseudoClassVariant('hover'),\n  'focus-within': generatePseudoClassVariant('focus-within'),\n  'focus-visible': generatePseudoClassVariant('focus-visible'),\n  focus: generatePseudoClassVariant('focus'),\n  active: generatePseudoClassVariant('active'),\n  visited: generatePseudoClassVariant('visited'),\n  disabled: generatePseudoClassVariant('disabled'),\n  checked: generatePseudoClassVariant('checked'),\n  first: generatePseudoClassVariant('first-child', 'first'),\n  last: generatePseudoClassVariant('last-child', 'last'),\n  odd: generatePseudoClassVariant('nth-child(odd)', 'odd'),\n  even: generatePseudoClassVariant('nth-child(even)', 'even')\n});\n\nfunction prependStackableVariants(atRule, variants, stackableVariants) {\n  if (!_lodash.default.some(variants, v => stackableVariants.includes(v))) {\n    return variants;\n  }\n\n  if (_lodash.default.every(variants, v => stackableVariants.includes(v))) {\n    return variants;\n  }\n\n  const variantsParent = _postcss.default.atRule({\n    name: 'variants',\n    params: variants.filter(v => stackableVariants.includes(v)).join(', ')\n  });\n\n  atRule.before(variantsParent);\n  variantsParent.append(atRule);\n  variants = _lodash.default.without(variants, ...stackableVariants);\n  return variants;\n}\n\nfunction _default(config, {\n  variantGenerators: pluginVariantGenerators\n}) {\n  return function (css) {\n    const variantGenerators = { ...defaultVariantGenerators(config),\n      ...pluginVariantGenerators\n    };\n    const stackableVariants = Object.entries(variantGenerators).filter(([_variant, {\n      options\n    }]) => options.unstable_stack).map(([variant]) => variant);\n    let variantsFound = false;\n\n    do {\n      variantsFound = false;\n      css.walkAtRules('variants', atRule => {\n        variantsFound = true;\n\n        let variants = _postcss.default.list.comma(atRule.params).filter(variant => variant !== '');\n\n        if (variants.includes('responsive')) {\n          const responsiveParent = _postcss.default.atRule({\n            name: 'responsive'\n          });\n\n          atRule.before(responsiveParent);\n          responsiveParent.append(atRule);\n        }\n\n        const remainingVariants = prependStackableVariants(atRule, variants, stackableVariants);\n\n        _lodash.default.forEach(_lodash.default.without(ensureIncludesDefault(remainingVariants), 'responsive'), variant => {\n          if (!variantGenerators[variant]) {\n            throw new Error(`Your config mentions the \"${variant}\" variant, but \"${variant}\" doesn't appear to be a variant. Did you forget or misconfigure a plugin that supplies that variant?`);\n          }\n\n          variantGenerators[variant].handler(atRule, config);\n        });\n\n        atRule.remove();\n      });\n    } while (variantsFound);\n  };\n}"]},"metadata":{},"sourceType":"script"}